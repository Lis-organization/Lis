<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Lis</title>

	<script src="eel.js"></script>
	<script src="src/recognizer_text.js"></script>
	<link rel="icon" type="image/png" href="favicon.png">

	<link rel="stylesheet" href="main.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>

	<button class="btn-mic"><i class="material-icons">keyboard_voice</i></button>

	<input id="location-text-input" type="text" placeholder="Введите текст..." required="">

	<button class="btn-send"><i class="material-icons">keyboard_arrow_right</i></button>

	<script type="text/javascript">
		
		const btnRecognize = document.querySelector(".btn-mic");
		const txtMessage = document.querySelector("#location-text-input");

		const recognizer = new Recognizer();

		function showText(text) {
			txtMessage.value = recognizer.transcript;
		}

		function start() {
			txtMessage.value = "";
			recognizer.start(showText);
		}

		function stop() {
			recognizer.stop();
		}

		btnRecognize.addEventListener("click", () => {
			if (!recognizer.isRecognizing) {
				start();
			} else {
				stop();
			}
		});
	</script>
</body>
</html>